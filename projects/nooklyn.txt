

prevent being able to unfavorite on favorites view for someone else

figure out how to fix the Listing/Favorite, Mate/MateFavorite issue
  getFavorites() isn't grabbing and creating Neighborhood objects
  getMateFavorites() isn't grabbing and creating MateNeighborhood objects [or Agent objects]
  I think I need to separate out getting subresources into reusable functions (Neighborhood, MateNeighborhood, etc.)

test unfavorite mate
test mate message
dynamically adjust info, buttons views for < iphone 6

have ignore remove mate from grid
add confirmation to ignore button

refine mate play view
mate detail view
create mate profile
test prod

find '/Users/joegallo/Library/Developer/CoreSimulator/Devices/3184918C-E437-446C-AE92-879284313E40/data/Containers/Data/Application/' -type f -name 'default.realm'

first time [DONE]
login
  normal [DONE]
  facebook [DONE]
signup
  normal [DONE]
  facebook [DONE]
listings
  preview favorite [DONE]
  preview unfavorite [DONE]
  preview tap [DONE]
  preview drag up [DONE]
  collection tap [DONE]
  collection favorite tap [DONE]
  collection unfavorite tap [DONE]
  collection favorite hold [DONE]
  collection unfavorite hold [DONE]
listing filters
  min, _ [DONE]
  _, max [DONE]
  min, max [DONE]
  beds [DONE]
  baths [DONE]
  neighborhood [DONE]
  neighborhoods [DONE]
  rental [DONE]
  residential [DONE]
  need help [SIMULATOR FAIL: TODO]
  clear filters [DONE]
listing details
  favorite tap [DONE]
  unfavorite tap [DONE]
  favorite hold [DONE]
  unfavorite hold [DONE]
  photo tap [DONE]
  location tap [DONE]
  call contact [TODO]
  message contact [TODO]
  share [TODO]
location
  location tap [DONE]
neighborhoods
  tap neighborhood [DONE]
messages
  conversation tap [DONE]
  send message [DONE]
favorites
  unfavorite tap [DONE]
  unfavorite hold [DONE]
  tap [DONE]
settings
  logout [DONE]
  support [SIMULATOR FAIL: TODO]
  facebook [DONE]
  twitter [DONE]

sudo cp /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/swift/iphonesimulator/libswiftSecurity.dylib /Applications/Xcode-beta.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/swift/iphonesimulator/libswiftSecurity.dylib

tests
  curl -d 'session[email]=gallo.j@gmail.com&session[password]=testpassword' 'http://localhost:3000/api/v1/sessions' [GOOD]
  curl -d 'session[email]=gallo.j@gmail.com&session[password]=testpasswor' 'http://localhost:3000/api/v1/sessions' [BAD]
  curl -d 'session[email]=gallo.j@gmail.com&session[password]=testpassword&session[oauth_token]=' 'http://localhost:3000/api/v1/sessions' [GOOD]
  curl -d 'session[email]=gallo.j@gmail.com&session[password]=testpassword&session[oauth_token]=blah' 'http://localhost:3000/api/v1/sessions' [GOOD]

  curl -d 'access-token=CAAFpWip2KRABAEKx6EXeUPRbW5XbT12CXyuGSu8mdueMjzlWQPfOFz4Pgn0ffrWm5xVoBuPhXhH0ykZCwzqL0ExZAq8O0ednWHsrcUr01Qa1H4ZAeGBa7buRiO9JTThwjDwytLjdEqGwUzutnjJLqVrd7NUj3unrja5F13gfTrKruZAvADPy4ksWEBF4hZBnhNOaGpKn9v3oy4QErPUemTZBIy9AsSyD6HCL1po7lblQZDZD&access-token-expiration=2015-10-16 18:42:36' 'http://localhost:3000/facebook-login' [GOOD]
  curl -d 'access-token=wrong&access-token-expiration=2015-10-16 18:42:36' 'http://localhost:3000/facebook-login' [BAD]

  sessions
    normal
      correct
      incorrect email
      incorrect password
    social
      correct
      incorrect email
      incorrect password

development:
  bucket: nooklyn-dev
  access_key_id: AKIAI6SP3RIVOVM7MA4A
  secret_access_key: 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
test:
  bucket: nooklyn-test
  access_key_id: AKIAI6SP3RIVOVM7MA4A
  secret_access_key: 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
production:
  bucket: nooklyn-pro
  access_key_id: <%= ENV['S3_ACCESS_KEY_ID'] %>
  secret_access_key: <%= ENV['S3_ACCESS_KEY'] %>

Access Key ID:
AKIAJGPHHWBPQKACQB4A
Secret Access Key:
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

apn push "<79f083d0 7db6d40a f5d7ed4a 035b7392 022ef8ed 53d04b53 e998851b eddaea65>" -c ~/Downloads/dev.pem -m "Hello from the command line" -b 1 -s sosumi.aiff

convo = Conversation.find(563)
convo.participants
convo.participating_agents
convo.messages
convo.destroy
ConversationMessage.find(642).destroy

11183 | Joe        | Gallo     | gallo.j@gmail.com
11184 | Jim        | Gallo     | first9894@gmail.com
11185 | John       | Gallo     | first9895@gmail.com
11191 | Henry      | Gallo     | first9896@gmail.com

Henry Gallo
first9896@gmail.com

Joe Gallo (11183)
gallo.j@gmail.com
http://localhost:3000/listings/2929

Jim Gallo (11184)
first9894@gmail.com
http://localhost:3000/listings/3140

John Gallo (11185)
first9895@gmail.com
http://localhost:3000/listings/3103

update listings set sales_agent_id = 11183, listing_agent_id = 11183 where id = 2929;
update listings set sales_agent_id = 11184, listing_agent_id = 11184 where id = 3140;
update listings set sales_agent_id = 11185, listing_agent_id = 11185 where id = 3103;

update agents set employee = true, admin = true, super_admin = true where email = 'first9894@gmail.com';

http://localhost:3000/locations.json?lattude=40.7191413&longitude=-73.9528119&radius=1.0

http://nooklyn-files.s3.amazonaws.com/subway/2x/L.png
https://commons.wikimedia.org/wiki/File:NYCS-bull-trans-L.svg

prod api key: 3a197ffc2f9e4bdca6f9249fbe6af222

curl -d 'session[email]=gallo.j@gmail.com&session[password]=testpassword' 'http://localhost:3000/api/v1/sessions'
curl -H 'API-TOKEN: 53c1afe604394c22b14ad696a2e7b72e' http://localhost:3000/api/v1/favorites
curl -H 'API-TOKEN: 53c1afe604394c22b14ad696a2e7b72e' 'http://localhost:3000/api/v1/mates?include=neighborhood,agent' | jsonformat
curl -H 'API-TOKEN: 53c1afe604394c22b14ad696a2e7b72e' 'http://localhost:3000/api/v1/conversations?include=participating-agents' | jsonformat
curl -H 'API-TOKEN: 53c1afe604394c22b14ad696a2e7b72e' 'http://localhost:3000/api/v1/conversations?include=participating-agents,messages' | jsonformat
curl -H 'API-TOKEN: 53c1afe604394c22b14ad696a2e7b72e' 'http://localhost:3000/api/v1/conversation-messages' | jsonformat
curl -H 'API-TOKEN: 53c1afe604394c22b14ad696a2e7b72e' http://localhost:3000/api/v1/hearts?listing-id=3057
curl -H 'API-TOKEN: 53c1afe604394c22b14ad696a2e7b72e' -H 'Content-Type: application/vnd.api+json' http://localhost:3000/api/v1/hearts/ -d @input.json
{
  "data": {
    "type": "hearts",
    "attributes": {
      "agent-id": "11183",
      "listing-id": "3057"
    }
  }
}
curl -X DELETE -H 'API-TOKEN: 53c1afe604394c22b14ad696a2e7b72e' http://localhost:3000/api/v1/hearts/3057

curl -i \
	-X PUT \
	-H "API-TOKEN: 53c1afe604394c22b14ad696a2e7b72e" \
	-H "Content-Type: application/vnd.api+json" \
	-H "Accept-Language: en;q=1.0,fr;q=0.9,de;q=0.8,zh-Hans;q=0.7,zh-Hant;q=0.6,ja;q=0.5" \
	-H "Accept-Encoding: gzip;q=1.0,compress;q=0.5" \
	-H "User-Agent: Nooklyn/com.nooklyn.Nooklyn (4; OS Version 8.4 (Build 12H141))" \
	-d "{\"data\":{\"type\":\"agents\",\"id\":\"11183\",\"attributes\":{\"device-token\":\"<79f083d0 7db6d40a f5d7ed4a 035b7392 022ef8ed 53d04b53 e998851b eddaea65>\"}}}" \
	"http://localhost:3000/api/v1/agents/11183"

{"data"
	{
		"type": "conversation-messages",
	 	"attributes"=>{"message"=>"d", "ip-address"=>"127.0.0.1", "user-agent"=>"iOS"},
		"relationships"=>{"agent"=>{"data"=>{"id"=>"11183", "type"=>"agents"}}, "conversation"=>{"data"=>{"id"=>"570", "type"=>"conversations"}}}}, :controller=>"api/v1/conversation_messages", :action=>"create"}

curl -d 'access-token=CAAFpWip2KRABAEZA095A0RaR77rQTrtpKhUZAZCxUfEsvyZB3fue5uAGOwQkJctZCz3BDIBtCUWtuW9M5ZAp42nLaNlKOZCME5TKSUIGmF8QjS6pJZCVS9ZCqMyCfaLbGiZCD4xmE9GEOKb7YgC9w4NprZCGeNW4hCoDRajIa6YJraHM8mGEPIYrPWgr8exhJAQBfK0dTIsuBTA6fyh0UhK7ybzg147FicCrZCdgedONNHY5kAZDZD&access-token-expiration=2015-10-16 18:42:36' 'http://localhost:3000/facebook-login'
